<!DOCTYPE html>
<html>
<head>
    <title>Fix Frontend Auth</title>
</head>
<body>
    <h1>Fix Frontend Authentication</h1>
    <p>Run this in your browser console to fix the authentication:</p>
    
    <script>
        // Clear old auth data
        localStorage.removeItem('partyoria_user');
        localStorage.removeItem('access_token');
        localStorage.removeItem('refresh_token');
        localStorage.removeItem('auth-storage');
        
        // Set correct user data that matches the database
        const correctUserData = {
            id: 2,
            username: 'saiku',
            email: 'saikushith@alstonair.com',
            first_name: 'saiku',
            last_name: '',
            user_type: 'customer'
        };
        
        localStorage.setItem('partyoria_user', JSON.stringify(correctUserData));
        
        console.log('Authentication data cleared and updated');
        console.log('Please refresh your application');
        
        // Also update the auth store if it exists
        if (window.localStorage.getItem('auth-storage')) {
            const authStorage = {
                state: {
                    user: correctUserData,
                    tokens: null,
                    isAuthenticated: false
                },
                version: 0
            };
            localStorage.setItem('auth-storage', JSON.stringify(authStorage));
        }
    </script>
    
    <button onclick="location.reload()">Refresh Page</button>
</body>
</html>